<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BurgerDelight - Las mejores hamburguesas</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1>Burger<span>Delight</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#menu">Menú</a></li>
                    <li><a href="#nosotros">Nosotros</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
                <div class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
                <div class="mobile-menu">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

<h1 id="nombre_empresa"></h1>
<p>
  Dirección: <span id="direccion_empresa"></span><br>
  Teléfono: <span id="telefono_empresa"></span><br>
  Horario: <span id="horario_empresa"></span>
</p>

<h2>Productos</h2>
<div id="productos"></div>

<h2>Carrito</h2>
<div id="carrito"></div>

<div id="formulario" style="display:none;">
  <h3>Datos para el pedido</h3>
  Nombre: <input id="nombre"><br>
  Teléfono: <input id="tel"><br>
  Dirección: <input id="dir"><br>
  <button onclick="enviarPedido()">Enviar pedido por WhatsApp</button>
</div>
    
    <section class="hero" id="inicio">
        <div class="container">
            <div class="hero-content">
                <h2>Las hamburguesas más deliciosas de la ciudad</h2>
                <p>Ingredientes frescos y preparación artesanal</p>
                <a href="#menu" class="btn">Ver menú</a>
            </div>
        </div>
    </section>

    <section class="menu-section" id="menu">
        <div class="container">
            <h2 class="section-title">Nuestro Menú</h2>
            <div class="filters">
                <button class="filter-btn active" data-filter="todos">Todos</button>
                <button class="filter-btn" data-filter="clasicas">Clásicas</button>
                <button class="filter-btn" data-filter="especiales">Especiales</button>
                <button class="filter-btn" data-filter="pollo">Pollo</button>
                <button class="filter-btn" data-filter="vegetarianas">Vegetarianas</button>
            </div>
            <div class="menu-grid" id="productos-container">
                <!-- Los productos se cargarán dinámicamente desde script.js -->
            </div>
        </div>
    </section>

    <section class="about-section" id="nosotros">
        <div class="container">
            <div class="about-content">
                <h2 class="section-title">Sobre Nosotros</h2>
                <p>En BurgerDelight nos apasiona crear las mejores hamburguesas utilizando ingredientes frescos y de la más alta calidad. Nuestro compromiso es ofrecer una experiencia gastronómica única que deleite a nuestros clientes.</p>
                <p>Fundada en 2010, hemos crecido gracias a la preferencia de nuestros clientes que valoran el sabor auténtico y el servicio excepcional.</p>
            </div>
            <div class="about-image">
                <img src="https://images.unsplash.com/photo-1571805618149-3a772570ebcd?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Equipo BurgerDelight">
            </div>
        </div>
    </section>

    <section class="contact-section" id="contacto">
        <div class="container">
            <h2 class="section-title">Contacto</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Información de contacto</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Calle Principal 123, Ciudad</p>
                    <p><i class="fas fa-phone"></i> +1 234 567 890</p>
                    <p><i class="fas fa-envelope"></i> info@burgerdelight.com</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="contact-form">
                    <form>
                        <input type="text" placeholder="Nombre" required>
                        <input type="email" placeholder="Email" required>
                        <textarea placeholder="Mensaje" required></textarea>
                        <button type="submit" class="btn">Enviar</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <div class="cart-modal">
        <div class="cart-content">
            <div class="cart-header">
                <h3>Tu Carrito</h3>
                <span class="close-cart">&times;</span>
            </div>
            <div class="cart-body">
                <div class="cart-items" id="cart-items">
                    <!-- Los items del carrito se cargarán aquí -->
                </div>
                <div class="cart-total">
                    <p>Total: <span id="cart-total">$0.00</span></p>
                </div>
            </div>
            <div class="cart-footer">
                <button class="btn checkout-btn">Finalizar Compra</button>
                <button class="btn clear-cart">Vaciar Carrito</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>BurgerDelight</h3>
                    <p>Las mejores hamburguesas artesanales con ingredientes frescos y de calidad.</p>
                </div>
                <div class="footer-section">
                    <h3>Horario</h3>
                    <p>Lunes a Viernes: 11am - 10pm</p>
                    <p>Sábado y Domingo: 12pm - 11pm</p>
                </div>
                <div class="footer-section">
                    <h3>Enlaces</h3>
                    <ul>
                        <li><a href="#inicio">Inicio</a></li>
                        <li><a href="#menu">Menú</a></li>
                        <li><a href="#nosotros">Nosotros</a></li>
                        <li><a href="#contacto">Contacto</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 BurgerDelight. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="db.js"></script>
    <script src="script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script>
// Cambia si tu CSV está en otro lugar
const rutaCSV = "datos_empresa.csv"; 

let datosEmpresa = {};
let productos = [];
let carrito = [];

function mostrarEmpresa() {
  document.getElementById("nombre_empresa").textContent = datosEmpresa.nombre;
  document.getElementById("direccion_empresa").textContent = datosEmpresa.direccion;
  document.getElementById("telefono_empresa").textContent = datosEmpresa.telefono;
  document.getElementById("horario_empresa").textContent = datosEmpresa.horario;
}

function mostrarProductos() {
  let cont = document.getElementById("productos");
  cont.innerHTML = "";
  productos.forEach(prod => {
    let div = document.createElement("div");
    div.innerHTML = `
      <img src="imagenes/${prod.imagen}" width="100"><br>
      <strong>${prod.nombre}</strong><br>
      Precio: $${prod.precio}<br>
      <button onclick='agregarCarrito(${prod.id})'>Agregar</button>
    `;
    cont.appendChild(div);
  });
}

function agregarCarrito(id) {
  let prod = productos.find(p => p.id == id);
  carrito.push(prod);
  mostrarCarrito();
}

function mostrarCarrito() {
  let cont = document.getElementById("carrito");
  cont.innerHTML = "";
  let total = 0;
  carrito.forEach((prod, i) => {
    total += Number(prod.precio);
    cont.innerHTML += `
      ${prod.nombre} - $${prod.precio} <button onclick="quitarDelCarrito(${i})">Quitar</button><br>
    `;
  });
  cont.innerHTML += `<hr>Total: $${total}<br>`;
  if(carrito.length > 0) cont.innerHTML += `<button onclick="mostrarFormulario()">Finalizar compra</button>`;
}

function quitarDelCarrito(i) {
  carrito.splice(i,1);
  mostrarCarrito();
}

function mostrarFormulario() {
  document.getElementById("formulario").style.display = "block";
}

function enviarPedido() {
  let nombre = document.getElementById("nombre").value;
  let telefono = document.getElementById("tel").value;
  let direccion = document.getElementById("dir").value;

  let lista = carrito.map(p=>`${p.nombre} ($${p.precio})`).join(", ");
  let total = carrito.reduce((acc,p)=>acc+Number(p.precio),0);

  let mensaje = `Pedido de: ${nombre}%0ATeléfono: ${telefono}%0ADirección: ${direccion}%0AProductos: ${lista}%0ATotal: $${total}`;
  let numero = datosEmpresa.telefono.replace(/[^0-9]/g, ""); // solo números
  window.open(`https://wa.me/52${numero}?text=${mensaje}`,"_blank");
}

Papa.parse(rutaCSV, {
  download: true,
  header: true,
  complete: function(results) {
    results.data.forEach(fila => {
      if(fila.tipo=="empresa") datosEmpresa = fila;
      if(fila.tipo=="producto") productos.push(fila);
    });
    mostrarEmpresa();
    mostrarProductos();
  }
});
      </script>

</body>
</html>
